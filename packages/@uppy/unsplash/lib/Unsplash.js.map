{"version":3,"names":["h","UIPlugin","SearchProvider","Provider","SearchProviderViews","packageJson","Unsplash","constructor","uppy","opts","id","title","initPlugin","icon","companionUrl","Error","hostname","provider","companionHeaders","companionCookiesRule","pluginId","install","view","viewType","target","mount","onFirstRender","render","state","uninstall","unmount","VERSION","version"],"sources":["Unsplash.jsx"],"sourcesContent":["import { h } from 'preact'\nimport { UIPlugin } from '@uppy/core'\nimport { SearchProvider, Provider } from '@uppy/companion-client'\nimport { SearchProviderViews } from '@uppy/provider-views'\n\nimport packageJson from '../package.json'\n\n/**\n * Unsplash\n *\n */\nexport default class Unsplash extends UIPlugin {\n  static VERSION = packageJson.version\n\n  constructor (uppy, opts) {\n    super(uppy, opts)\n    this.id = this.opts.id || 'Unsplash'\n    this.title = this.opts.title || 'Unsplash'\n\n    Provider.initPlugin(this, opts, {})\n\n    this.icon = () => (\n      <svg viewBox=\"0 0 32 32\" height=\"32\" width=\"32\" aria-hidden=\"true\">\n        <path d=\"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z\" fill=\"#fff\" />\n        <rect className=\"uppy-ProviderIconBg\" width=\"32\" height=\"32\" rx=\"16\" />\n        <path d=\"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z\" fill=\"#fff\" />\n      </svg>\n    )\n\n    if (!this.opts.companionUrl) {\n      throw new Error('Companion hostname is required, please consult https://uppy.io/docs/companion')\n    }\n\n    this.hostname = this.opts.companionUrl\n\n    this.provider = new SearchProvider(uppy, {\n      companionUrl: this.opts.companionUrl,\n      companionHeaders: this.opts.companionHeaders,\n      companionCookiesRule: this.opts.companionCookiesRule,\n      provider: 'unsplash',\n      pluginId: this.id,\n    })\n  }\n\n  install () {\n    this.view = new SearchProviderViews(this, {\n      provider: this.provider,\n      viewType: 'unsplash',\n    })\n\n    const { target } = this.opts\n    if (target) {\n      this.mount(target, this)\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  onFirstRender () {\n    // do nothing\n  }\n\n  render (state) {\n    return this.view.render(state)\n  }\n\n  uninstall () {\n    this.unmount()\n  }\n}\n"],"mappings":"AAAA,SAASA,CAAT,QAAkB,QAAlB;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAASC,cAAT,EAAyBC,QAAzB,QAAyC,wBAAzC;AACA,SAASC,mBAAT,QAAoC,sBAApC;MAEOC,W;;;AAEP;AACA;AACA;AACA;;AACA,eAAe,MAAMC,QAAN,SAAuBL,QAAvB,CAAgC;EAG7CM,WAAW,CAAEC,IAAF,EAAQC,IAAR,EAAc;IACvB,MAAMD,IAAN,EAAYC,IAAZ;IACA,KAAKC,EAAL,GAAU,KAAKD,IAAL,CAAUC,EAAV,IAAgB,UAA1B;IACA,KAAKC,KAAL,GAAa,KAAKF,IAAL,CAAUE,KAAV,IAAmB,UAAhC;IAEAR,QAAQ,CAACS,UAAT,CAAoB,IAApB,EAA0BH,IAA1B,EAAgC,EAAhC;;IAEA,KAAKI,IAAL,GAAY,MACV;MAAK,OAAO,EAAC,WAAb;MAAyB,MAAM,EAAC,IAAhC;MAAqC,KAAK,EAAC,IAA3C;MAAgD,eAAY;IAA5D,GACE;MAAM,CAAC,EAAC,qDAAR;MAA8D,IAAI,EAAC;IAAnE,EADF,EAEE;MAAM,SAAS,EAAC,qBAAhB;MAAsC,KAAK,EAAC,IAA5C;MAAiD,MAAM,EAAC,IAAxD;MAA6D,EAAE,EAAC;IAAhE,EAFF,EAGE;MAAM,CAAC,EAAC,2CAAR;MAAoD,IAAI,EAAC;IAAzD,EAHF,CADF;;IAQA,IAAI,CAAC,KAAKJ,IAAL,CAAUK,YAAf,EAA6B;MAC3B,MAAM,IAAIC,KAAJ,CAAU,+EAAV,CAAN;IACD;;IAED,KAAKC,QAAL,GAAgB,KAAKP,IAAL,CAAUK,YAA1B;IAEA,KAAKG,QAAL,GAAgB,IAAIf,cAAJ,CAAmBM,IAAnB,EAAyB;MACvCM,YAAY,EAAE,KAAKL,IAAL,CAAUK,YADe;MAEvCI,gBAAgB,EAAE,KAAKT,IAAL,CAAUS,gBAFW;MAGvCC,oBAAoB,EAAE,KAAKV,IAAL,CAAUU,oBAHO;MAIvCF,QAAQ,EAAE,UAJ6B;MAKvCG,QAAQ,EAAE,KAAKV;IALwB,CAAzB,CAAhB;EAOD;;EAEDW,OAAO,GAAI;IACT,KAAKC,IAAL,GAAY,IAAIlB,mBAAJ,CAAwB,IAAxB,EAA8B;MACxCa,QAAQ,EAAE,KAAKA,QADyB;MAExCM,QAAQ,EAAE;IAF8B,CAA9B,CAAZ;IAKA,MAAM;MAAEC;IAAF,IAAa,KAAKf,IAAxB;;IACA,IAAIe,MAAJ,EAAY;MACV,KAAKC,KAAL,CAAWD,MAAX,EAAmB,IAAnB;IACD;EACF,CA3C4C,CA6C7C;;;EACAE,aAAa,GAAI,CACf;EACD;;EAEDC,MAAM,CAAEC,KAAF,EAAS;IACb,OAAO,KAAKN,IAAL,CAAUK,MAAV,CAAiBC,KAAjB,CAAP;EACD;;EAEDC,SAAS,GAAI;IACX,KAAKC,OAAL;EACD;;AAxD4C;AAA1BxB,Q,CACZyB,O,GAAU1B,WAAW,CAAC2B,O"}