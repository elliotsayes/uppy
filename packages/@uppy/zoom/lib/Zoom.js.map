{"version":3,"names":["h","UIPlugin","Provider","ProviderViews","packageJson","locale","Zoom","constructor","uppy","opts","id","initPlugin","title","icon","transform","provider","companionUrl","companionHeaders","companionKeysParams","companionCookiesRule","pluginId","defaultLocale","i18nInit","i18n","onFirstRender","bind","render","install","view","target","mount","uninstall","tearDown","unmount","Promise","all","fetchPreAuthToken","getFolder","state","VERSION","version"],"sources":["Zoom.jsx"],"sourcesContent":["import { h } from 'preact'\n\nimport { UIPlugin } from '@uppy/core'\nimport { Provider } from '@uppy/companion-client'\nimport { ProviderViews } from '@uppy/provider-views'\n\nimport packageJson from '../package.json'\nimport locale from './locale.js'\n\nexport default class Zoom extends UIPlugin {\n  static VERSION = packageJson.version\n\n  constructor (uppy, opts) {\n    super(uppy, opts)\n    this.id = this.opts.id || 'Zoom'\n    Provider.initPlugin(this, opts)\n    this.title = this.opts.title || 'Zoom'\n    this.icon = () => (\n      <svg aria-hidden=\"true\" focusable=\"false\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\">\n        <rect className=\"uppy-ProviderIconBg\" width=\"32\" height=\"32\" rx=\"16\" fill=\"#0E71EB\" />\n        <g fill=\"none\" fillRule=\"evenodd\">\n          <path fill=\"#fff\" d=\"M29,31H14c-1.657,0-3-1.343-3-3V17h15c1.657,0,3,1.343,3,3V31z\" style={{ transform: 'translate(-5px, -5px) scale(0.9)' }} />\n          <polygon fill=\"#fff\" points=\"37,31 31,27 31,21 37,17\" style={{ transform: 'translate(-5px, -5px) scale(0.9)' }} />\n        </g>\n      </svg>\n    )\n\n    this.provider = new Provider(uppy, {\n      companionUrl: this.opts.companionUrl,\n      companionHeaders: this.opts.companionHeaders,\n      companionKeysParams: this.opts.companionKeysParams,\n      companionCookiesRule: this.opts.companionCookiesRule,\n      provider: 'zoom',\n      pluginId: this.id,\n    })\n\n    this.defaultLocale = locale\n\n    this.i18nInit()\n    this.title = this.i18n('pluginNameZoom')\n\n    this.onFirstRender = this.onFirstRender.bind(this)\n    this.render = this.render.bind(this)\n  }\n\n  install () {\n    this.view = new ProviderViews(this, {\n      provider: this.provider,\n    })\n\n    const { target } = this.opts\n    if (target) {\n      this.mount(target, this)\n    }\n  }\n\n  uninstall () {\n    this.view.tearDown()\n    this.unmount()\n  }\n\n  onFirstRender () {\n    return Promise.all([\n      this.provider.fetchPreAuthToken(),\n      this.view.getFolder(),\n    ])\n  }\n\n  render (state) {\n    return this.view.render(state)\n  }\n}\n"],"mappings":"AAAA,SAASA,CAAT,QAAkB,QAAlB;AAEA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,SAASC,aAAT,QAA8B,sBAA9B;MAEOC,W;;;AACP,OAAOC,MAAP,MAAmB,aAAnB;AAEA,eAAe,MAAMC,IAAN,SAAmBL,QAAnB,CAA4B;EAGzCM,WAAW,CAAEC,IAAF,EAAQC,IAAR,EAAc;IACvB,MAAMD,IAAN,EAAYC,IAAZ;IACA,KAAKC,EAAL,GAAU,KAAKD,IAAL,CAAUC,EAAV,IAAgB,MAA1B;IACAR,QAAQ,CAACS,UAAT,CAAoB,IAApB,EAA0BF,IAA1B;IACA,KAAKG,KAAL,GAAa,KAAKH,IAAL,CAAUG,KAAV,IAAmB,MAAhC;;IACA,KAAKC,IAAL,GAAY,MACV;MAAK,eAAY,MAAjB;MAAwB,SAAS,EAAC,OAAlC;MAA0C,KAAK,EAAC,IAAhD;MAAqD,MAAM,EAAC,IAA5D;MAAiE,OAAO,EAAC;IAAzE,GACE;MAAM,SAAS,EAAC,qBAAhB;MAAsC,KAAK,EAAC,IAA5C;MAAiD,MAAM,EAAC,IAAxD;MAA6D,EAAE,EAAC,IAAhE;MAAqE,IAAI,EAAC;IAA1E,EADF,EAEE;MAAG,IAAI,EAAC,MAAR;MAAe,QAAQ,EAAC;IAAxB,GACE;MAAM,IAAI,EAAC,MAAX;MAAkB,CAAC,EAAC,8DAApB;MAAmF,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAb;IAA1F,EADF,EAEE;MAAS,IAAI,EAAC,MAAd;MAAqB,MAAM,EAAC,yBAA5B;MAAsD,KAAK,EAAE;QAAEA,SAAS,EAAE;MAAb;IAA7D,EAFF,CAFF,CADF;;IAUA,KAAKC,QAAL,GAAgB,IAAIb,QAAJ,CAAaM,IAAb,EAAmB;MACjCQ,YAAY,EAAE,KAAKP,IAAL,CAAUO,YADS;MAEjCC,gBAAgB,EAAE,KAAKR,IAAL,CAAUQ,gBAFK;MAGjCC,mBAAmB,EAAE,KAAKT,IAAL,CAAUS,mBAHE;MAIjCC,oBAAoB,EAAE,KAAKV,IAAL,CAAUU,oBAJC;MAKjCJ,QAAQ,EAAE,MALuB;MAMjCK,QAAQ,EAAE,KAAKV;IANkB,CAAnB,CAAhB;IASA,KAAKW,aAAL,GAAqBhB,MAArB;IAEA,KAAKiB,QAAL;IACA,KAAKV,KAAL,GAAa,KAAKW,IAAL,CAAU,gBAAV,CAAb;IAEA,KAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;IACA,KAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYD,IAAZ,CAAiB,IAAjB,CAAd;EACD;;EAEDE,OAAO,GAAI;IACT,KAAKC,IAAL,GAAY,IAAIzB,aAAJ,CAAkB,IAAlB,EAAwB;MAClCY,QAAQ,EAAE,KAAKA;IADmB,CAAxB,CAAZ;IAIA,MAAM;MAAEc;IAAF,IAAa,KAAKpB,IAAxB;;IACA,IAAIoB,MAAJ,EAAY;MACV,KAAKC,KAAL,CAAWD,MAAX,EAAmB,IAAnB;IACD;EACF;;EAEDE,SAAS,GAAI;IACX,KAAKH,IAAL,CAAUI,QAAV;IACA,KAAKC,OAAL;EACD;;EAEDT,aAAa,GAAI;IACf,OAAOU,OAAO,CAACC,GAAR,CAAY,CACjB,KAAKpB,QAAL,CAAcqB,iBAAd,EADiB,EAEjB,KAAKR,IAAL,CAAUS,SAAV,EAFiB,CAAZ,CAAP;EAID;;EAEDX,MAAM,CAAEY,KAAF,EAAS;IACb,OAAO,KAAKV,IAAL,CAAUF,MAAV,CAAiBY,KAAjB,CAAP;EACD;;AA7DwC;AAAtBhC,I,CACZiC,O,GAAUnC,WAAW,CAACoC,O"}